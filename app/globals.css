@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  --primary: #a837e2;
  --text: #d58eff;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-text: var(--text);
  --font-montserrat: var(--font-montserrat);
}

html {
  overscroll-behavior: none;
}

body {
  color: var(--foreground);
  user-select: none;
  background-image: url("/images/background.jpg");
  background-attachment: fixed;
  background-repeat: no-repeat;
  background-size: cover;
  @apply font-montserrat w-screen h-screen;
}

@keyframes win-pop {
  0% {
    transform: scale(0.9);
  }
  40% {
    transform: scale(1.12);
  }
  70% {
    transform: scale(0.98);
  }
  100% {
    transform: scale(1.02);
  }
}
.win-cell {
  animation: win-pop 420ms cubic-bezier(0.2, 0.8, 0.2, 1.1) forwards;
}

@keyframes heartbeat-loop {
  0% {
    transform: scale(1);
  }
  8% {
    transform: scale(1.06);
  }
  16% {
    transform: scale(1);
  }
  24% {
    transform: scale(1.07);
  }
  32% {
    transform: scale(1);
  }
  40% {
    transform: scale(1.08);
  }
  48% {
    transform: scale(1);
  }
  60% {
    transform: scale(1); /* end of "active" 3s window */
  }
  100% {
    transform: scale(1); /* 2s of rest, no movement */
  }
}

.heartbeat-loop {
  animation: heartbeat-loop 5s ease-in-out infinite;
  transform-origin: center center;
}

@keyframes slot-land {
  0% {
    transform: translateY(-18px) scale(1.05);
    opacity: 0.3;
  }
  80% {
    transform: translateY(4px) scale(1.02);
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

.slot-land-0,
.slot-land-1,
.slot-land-2,
.slot-land-3 {
  animation: slot-land 220ms ease-out;
}

@keyframes slot-explode {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  60% {
    transform: scale(1.3);
    opacity: 1;
  }
  100% {
    transform: scale(0.4);
    opacity: 0;
  }
}

.slot-explode {
  animation: slot-explode 260ms ease-out forwards;
}

.slot-cell-exit {
  animation-name: slot-reel-exit;
  animation-duration: 1.2s;
  animation-timing-function: cubic-bezier(0.26, 0.64, 0.42, 0.99);
  animation-fill-mode: forwards;
  will-change: transform;
}

@keyframes slot-reel-exit {
  0% {
    transform: translateY(0);
  }
  100% {
    transform: translateY(60vh); /* FULL drop off screen */
  }
}

.slot-cell-drop {
  animation-name: slot-reel-drop;
  animation-duration: 1.2s;
  animation-timing-function: cubic-bezier(0.16, 0.9, 0.2, 1);
  animation-fill-mode: forwards;
  will-change: transform;
}

@keyframes slot-reel-drop {
  0% {
    transform: translateY(-100vh);
  }
  72% {
    transform: translateY(0);
  }
  86% {
    transform: translateY(6%);
  }
  100% {
    transform: translateY(0);
  }
}

.idle-breathe {
  animation: idle-breathe 3s ease-in-out infinite;
}

@keyframes idle-breathe {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.01);
  }
  100% {
    transform: scale(1);
  }
}

.slot-zoom {
  transform: scale(1.03);
}

.slot-spin-vignette {
  position: absolute;
  inset: -8px;
  pointer-events: none;
  background:
    radial-gradient(circle at 50% 20%, rgba(255,255,255,0.06), transparent 55%),
    radial-gradient(circle at 50% 120%, rgba(0,0,0,0.7), transparent 55%);
  mix-blend-mode: multiply;
  opacity: 0;
  transition: opacity 200ms ease-out;
}

.slot-spin-vignette--active {
  opacity: 1;
}

.slot-symbol-blur {
  filter: blur(1.5px);
  transform: scale(1.06);
}
